schema: '2.0'
stages:
  raw_dataset_creation:
    cmd: python src/data/load_data.py --config=params.yaml
    deps:
    - path: data/external/train.csv
      md5: 97e496bd04df9a513f8d22793b7fc0f1
      size: 3351206
    - path: src/data/load_data.py
      md5: f7e5feba26c9876065639688f93bb5b2
      size: 692
    outs:
    - path: data/raw/train.csv
      md5: 97e496bd04df9a513f8d22793b7fc0f1
      size: 3351206
  transform_data:
    cmd: python src/features/build_features.py --config=params.yaml
    deps:
    - path: data/raw/train.csv
      md5: 97e496bd04df9a513f8d22793b7fc0f1
      size: 3351206
    - path: src/features/build_features.py
      md5: c6c594a678e54c6fc9c32ce3fb869cc5
      size: 2075
    outs:
    - path: data/processed/processed_data.csv
      md5: e1119a547e2432ca933ddba610f39c31
      size: 60798178
  split_data:
    cmd: python src/data/split_data.py --config=params.yaml
    deps:
    - path: data/processed/processed_data.csv
      md5: e1119a547e2432ca933ddba610f39c31
      size: 60798178
    - path: src/data/split_data.py
      md5: 239eefe2bd8c1904298c84adda02f018
      size: 1232
    outs:
    - path: data/processed/news_test.csv
      md5: 3270dbc351824cef94740c6039262dcd
      size: 12137763
    - path: data/processed/news_train.csv
      md5: f7071d652d8ce9714d2e190655d1f2d3
      size: 48441472
  model_train:
    cmd: python src/models/train_model.py --config=params.yaml
    deps:
    - path: data/processed/news_test.csv
      md5: 3270dbc351824cef94740c6039262dcd
      size: 12137763
    - path: data/processed/news_train.csv
      md5: f7071d652d8ce9714d2e190655d1f2d3
      size: 48441472
    - path: src/models/train_model.py
      md5: 44ac14816951ccdf7754529c00c7c780
      size: 3195
    params:
      params.yaml:
        svm_model.C: 10
        svm_model.gamma: 0.1
        svm_model.kernel: rbf
  log_production_model:
    cmd: python src/models/prod_model_selection.py --config=params.yaml
    deps:
    - path: src/models/prod_model_selection.py
      md5: b75101a934df9afc3f5ec7710c9a123b
      size: 2533
    params:
      params.yaml:
        svm_model.C: 10
        svm_model.gamma: 0.1
        svm_model.kernel: rbf
    outs:
    - path: models/model.joblib
      md5: 85188c638ac008a52c939b55d54a1f97
      size: 69468592
