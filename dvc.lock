schema: '2.0'
stages:
  raw_dataset_creation:
    cmd: python src/data/load_data.py --config=params.yaml
    deps:
    - path: data/external/train.csv
      md5: 97e496bd04df9a513f8d22793b7fc0f1
      size: 3351206
    - path: src/data/load_data.py
      md5: f7e5feba26c9876065639688f93bb5b2
      size: 692
    outs:
    - path: data/raw/train.csv
      md5: 97e496bd04df9a513f8d22793b7fc0f1
      size: 3351206
  transform_data:
    cmd: python src/features/build_features.py --config=params.yaml
    deps:
    - path: data/raw/train.csv
      md5: 97e496bd04df9a513f8d22793b7fc0f1
      size: 3351206
    - path: src/features/build_features.py
      md5: 9a9456c9b0391df72bd669212ad5c7ad
      size: 2087
    outs:
    - path: data/processed/processed_data.csv
      md5: e1119a547e2432ca933ddba610f39c31
      size: 60798178
  split_data:
    cmd: python src/data/split_data.py --config=params.yaml
    deps:
    - path: data/processed/processed_data.csv
      md5: e1119a547e2432ca933ddba610f39c31
      size: 60798178
    - path: src/data/split_data.py
      md5: 901184fc5b52c01ba905632455c49564
      size: 1227
    outs:
    - path: data/processed/news_test.csv
      md5: 3270dbc351824cef94740c6039262dcd
      size: 12137763
    - path: data/processed/news_train.csv
      md5: f7071d652d8ce9714d2e190655d1f2d3
      size: 48441472
  model_train:
    cmd: python src/models/train_model.py --config=params.yaml
    deps:
    - path: data/processed/news_test.csv
      md5: 3270dbc351824cef94740c6039262dcd
      size: 12137763
    - path: data/processed/news_train.csv
      md5: f7071d652d8ce9714d2e190655d1f2d3
      size: 48441472
    - path: src/models/train_model.py
      md5: 13579e647a07c580bdc017700ad16830
      size: 3235
    params:
      params.yaml:
        svm_model.C: 10
        svm_model.gamma: 0.1
        svm_model.kernel: rbf
  log_production_model:
    cmd: python src/models/prod_model_selection.py --config=params.yaml
    deps:
    - path: src/models/prod_model_selection.py
      md5: df710437e31262e68ea6d8a129ce8122
      size: 2496
    params:
      params.yaml:
        svm_model.C: 10
        svm_model.gamma: 0.1
        svm_model.kernel: rbf
    outs:
    - path: models/model.joblib
      md5: 587851109d4fd5b670ebe8cf8f4dd1a7
      size: 69489366
